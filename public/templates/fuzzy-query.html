<div class="container" ng-controller="FuzzySearchController as fuzzyController">

    <h1 class="cursive-heading" style="text-align: center">Fuzziness In The Air</h1>

    <div class="row med-top-space">

        <div class="queryInput col-sm-offset-2 col-sm-8 med-top-space">
            <form class="form-horizontal" name="fuzzyQueryForm"
                  ng-submit="fuzzyController.getFilteredMovies(fuzzyQueryForm.$valid, fuzzyController.filter)" novalidate>

                <div class="form-group">
                    <label for="query.title" class="col-sm-2 control-label">Title</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name = "title" id="query.title" ng-model="fuzzyController.filter.title">
                    </div>
                </div>

                <div class="form-group">
                    <label for="query.country" class="col-sm-2 control-label">Country</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name = "country" id="query.country" ng-model="fuzzyController.filter.country">
                    </div>
                </div>

                <div class="form-group">
                    <label for="query.rating" class="col-sm-2 control-label">Min. Rating</label>
                    <div class="col-sm-10">
                        <input type="number" class="form-control" id="query.rating" step="any" min="0"
                               ng-model="fuzzyController.filter.min_rating">
                    </div>
                </div>

                <div class="form-group">
                    <label for="query.year" class="col-sm-2 control-label">Year</label>
                    <div class="col-sm-10">
                        <input type="number" class="form-control" id="query.year" name="year"
                               ng-model="fuzzyController.filter.year" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="query.genre" class="col-sm-2 control-label">Genre</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="query.genre"
                               ng-model="fuzzyController.filter.genre">
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-default">Submit</button>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <span class="alert-warning" ng-show="!fuzzyQueryForm.year.$pristine && fuzzyQueryForm.year.$error.required">
                            Please Enter Year
                        </span>
                    </div>
                </div>

            </form>
        </div>

        <div class="result med-top-space col-sm-offset-2 col-sm-8" ng-show="fuzzyController.filteredMovies.length">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>Title</th>
                    <th>Year</th>
                    <th>Minimum Rating</th>
                    <th>Country</th>
                    <th>Genre</th>
                </tr>
                </thead>

                <tbody>
                <tr ng-repeat="movie in fuzzyController.filteredMovies track by movie.id">
                    <td>{{movie.title}}</td>
                    <td>{{movie.year}}</td>
                    <td>{{movie.ratings}}</td>
                    <td>{{movie.country}}</td>
                    <td>{{movie.genre}}</td>
                </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>